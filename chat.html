&lt;!DOCTYPE html&gt;

&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
&lt;title&gt;Let&#39;s Get Started | StartRight UK&lt;/title&gt;
&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;
&lt;link
href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;di
splay=swap&quot; rel=&quot;stylesheet&quot;&gt;
&lt;style&gt;
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
font-family: &#39;Inter&#39;, -apple-system, BlinkMacSystemFont, sans-serif;
line-height: 1.6;
color: #1f2937;
background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #6d28d9 100%);
min-height: 100vh;
display: flex;
flex-direction: column;
}

.header {
padding: 16px 24px;
display: flex;
justify-content: center;
}
.logo { font-size: 24px; font-weight: 800; color: white; }
.logo span { color: #fde68a; }

.chat-container {
flex: 1;
max-width: 600px;
width: 100%;
margin: 0 auto;
padding: 0 16px 100px;
display: flex;
flex-direction: column;
}

.chat-messages {
flex: 1;
overflow-y: auto;
padding: 20px 0;
display: flex;
flex-direction: column;
gap: 16px;
}

.message {
max-width: 85%;
padding: 16px 20px;
border-radius: 20px;
animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }

to { opacity: 1; transform: translateY(0); }
}

.message.bot {
background: white;
color: #1f2937;
align-self: flex-start;
border-bottom-left-radius: 4px;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.message.user {
background: #fde68a;
color: #1f2937;
align-self: flex-end;
border-bottom-right-radius: 4px;
}

.message.bot .bot-name {
font-size: 12px;
font-weight: 600;
color: #8b5cf6;
margin-bottom: 4px;
}

.typing-indicator {
display: flex;
gap: 4px;
padding: 16px 20px;

background: white;
border-radius: 20px;
border-bottom-left-radius: 4px;
align-self: flex-start;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.typing-indicator span {
width: 8px;
height: 8px;
background: #8b5cf6;
border-radius: 50%;
animation: bounce 1.4s infinite ease-in-out;
}

.typing-indicator span:nth-child(1) { animation-delay: 0s; }
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

@keyframes bounce {
0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
40% { transform: scale(1); opacity: 1; }
}

.input-area {
position: fixed;
bottom: 0;
left: 0;
right: 0;

background: white;
padding: 16px;
box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
}

.input-wrapper {
max-width: 600px;
margin: 0 auto;
display: flex;
gap: 12px;
}

.input-wrapper input {
flex: 1;
padding: 14px 20px;
border: 2px solid #e5e7eb;
border-radius: 30px;
font-size: 16px;
font-family: inherit;
transition: border-color 0.2s;
}

.input-wrapper input:focus {
outline: none;
border-color: #8b5cf6;
}

.input-wrapper button {
background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);

color: white;
border: none;
padding: 14px 24px;
border-radius: 30px;
font-size: 16px;
font-weight: 600;
cursor: pointer;
transition: transform 0.2s;
}

.input-wrapper button:hover {
transform: scale(1.05);
}

.input-wrapper button:disabled {
opacity: 0.6;
cursor: not-allowed;
transform: none;
}

.options-container {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin-top: 12px;
}

.option-btn {
background: #f3e8ff;

color: #6d28d9;
border: 2px solid #e9d5ff;
padding: 10px 18px;
border-radius: 20px;
font-size: 14px;
font-weight: 500;
cursor: pointer;
transition: all 0.2s;
}

.option-btn:hover {
background: #8b5cf6;
color: white;
border-color: #8b5cf6;
}

.hidden { display: none !important; }

.success-container {
text-align: center;
background: white;
padding: 40px;
border-radius: 20px;
margin: 40px 16px;
box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.success-container .icon { font-size: 64px; margin-bottom: 20px; }
.success-container h2 { color: #059669; margin-bottom: 12px; }

.success-container p { color: #4b5563; }

@media (max-width: 600px) {
.message { max-width: 90%; }
.input-wrapper button span { display: none; }
.input-wrapper button::after { content: ‘→’; }
}
&lt;/style&gt;

&lt;/head&gt;
&lt;body&gt;

&lt;header class=&quot;header&quot;&gt;
&lt;div class=&quot;logo&quot;&gt;Start&lt;span&gt;Right&lt;/span&gt; UK&lt;/div&gt;
&lt;/header&gt;

&lt;div class=&quot;chat-container&quot;&gt;
&lt;div class=&quot;chat-messages&quot; id=&quot;chat-messages&quot;&gt;
&lt;!-- Messages will be added here --&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;input-area&quot; id=&quot;input-area&quot;&gt;
&lt;div class=&quot;input-wrapper&quot;&gt;
&lt;input type=&quot;text&quot; id=&quot;user-input&quot; placeholder=&quot;Type your answer...&quot; autofocus&gt;
&lt;button id=&quot;send-btn&quot;&gt;&lt;span&gt;Send&lt;/span&gt;&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;success-container hidden&quot; id=&quot;success-container&quot;&gt;
&lt;div class=&quot;icon&quot;&gt;��&lt;/div&gt;
&lt;h2&gt;Thank You!&lt;/h2&gt;
&lt;p&gt;We&#39;ve got everything we need. We&#39;re preparing your personalised documents
now and will be in touch within 24 hours.&lt;/p&gt;
&lt;p style=&quot;margin-top: 16px; font-size: 14px; color: #6b7280;&quot;&gt;Keep an eye on your
inbox for an email from info@start-right.uk&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
// Get product type from URL
const urlParams = new URLSearchParams(window.location.search);
const productType = urlParams.get(&#39;product&#39;) || &#39;premium&#39;;

// Our friendly assistant
const botName = &#39;Charlie&#39;;

// Conversation data storage
const customerData = {
product: productType,
bot_name: botName,
submitted_at: null
};

// Conversation flow
const conversationFlow = [
{
id: &#39;welcome&#39;,
bot: `Hi there! �� I&#39;m {bot_name} from StartRight UK!\n\nThanks for choosing us -
I&#39;m here to learn about your business so we can create something amazing for you.

This will only take a few minutes.\n\nLet&#39;s start with an easy one - what&#39;s your
name?`,
field: &#39;customer_name&#39;,
type: &#39;text&#39;
},
{
id: &#39;email&#39;,
bot: `Lovely to meet you, {customer_name}! ��\n\nWhat&#39;s the best email address
to reach you on?`,
field: &#39;customer_email&#39;,
type: &#39;email&#39;
},
{
id: &#39;business_idea&#39;,
bot: `Perfect!\n\nNow the exciting part - tell me about your business idea. What
products or services will you offer?\n\nDon&#39;t worry about making it perfect, just tell
me in your own words.`,
field: &#39;business_description&#39;,
type: &#39;textarea&#39;
},
{
id: &#39;target_customers&#39;,
bot: `That sounds brilliant! I can see the potential already. ��\n\nWho are you
hoping to sell to? Describe your ideal customer - are they individuals, other
businesses, a certain age group, location?`,
field: &#39;target_customers&#39;,
type: &#39;textarea&#39;
},
{
id: &#39;location&#39;,

bot: `Great, that&#39;s really helpful!\n\nWhere will you be operating? Will you serve a
local area, the whole UK, or maybe even internationally?`,
field: &#39;location&#39;,
type: &#39;text&#39;
},
{
id: &#39;business_name_check&#39;,
bot: `Now for the fun part - your business name! ��️\n\nDo you already have a
name in mind, or would you like us to suggest some options?`,
field: &#39;has_name&#39;,
type: &#39;options&#39;,
options: [&#39;I have a name&#39;, &#39;I need suggestions&#39;]
},
{
id: &#39;business_name&#39;,
bot: `What name are you thinking of?`,
field: &#39;business_name&#39;,
type: &#39;text&#39;,
condition: (data) =&gt; data.has_name === &#39;I have a name&#39;
},
{
id: &#39;name_preferences&#39;,
bot: `No problem! We&#39;ll suggest some great options for you. ��\n\nAny
preferences? For example, do you want something:\n- Professional and
corporate?\n- Friendly and approachable?\n- Your own name in it?\n- Something
creative?\n\nOr just say &quot;no preference&quot; and we&#39;ll surprise you!`,
field: &#39;name_preferences&#39;,
type: &#39;text&#39;,
condition: (data) =&gt; data.has_name === &#39;I need suggestions&#39;
},
{

id: &#39;goals&#39;,
bot: `Love it! Now, what are you hoping to achieve in your first year?\n\nThis could
be income goals, number of customers, or just getting started - whatever matters to
you.`,
field: &#39;year_one_goals&#39;,
type: &#39;textarea&#39;
},
{
id: &#39;competitors&#39;,
bot: `Nearly there! ��\n\nDo you know who your main competitors might be? If
you&#39;re not sure, that&#39;s totally fine - just say &quot;not sure&quot; and we&#39;ll research this for you.`,
field: &#39;competitors&#39;,
type: &#39;text&#39;
},
{
id: &#39;anything_else&#39;,
bot: `Last question!\n\nIs there anything else you&#39;d like us to know about your
business? Any challenges you&#39;re facing, questions you have, or things you&#39;d like
advice on?\n\nOr just say &quot;nothing else&quot; and we&#39;re done!`,
field: &#39;additional_info&#39;,
type: &#39;textarea&#39;
},
{
id: &#39;complete&#39;,
bot: `Amazing, {customer_name}! You&#39;ve given us everything we need.
��\n\nHere&#39;s what happens next:\n\n✅ We&#39;ll analyse your business idea\n✅ Create
your personalised Business Study\n✅ Write your Professional Business
Plan\n${customerData.has_name === &#39;I need suggestions&#39; ? &#39;✅ Suggest some great
name options\n&#39; : &#39;&#39;}✅ Prepare tailored advice just for you\n\nYou&#39;ll hear from us
within 24 hours. We can&#39;t wait to help you get started!\n\nSpeak soon! ��`,
field: null,
type: &#39;end&#39;

}
];

let currentStep = 0;
const chatMessages = document.getElementById(&#39;chat-messages&#39;);
const userInput = document.getElementById(&#39;user-input&#39;);
const sendBtn = document.getElementById(&#39;send-btn&#39;);

// Add bot message
function addBotMessage(text) {
const messageDiv = document.createElement(&#39;div&#39;);
messageDiv.className = &#39;message bot&#39;;

// Replace placeholders
let processedText = text;
for (const [key, value] of Object.entries(customerData)) {
processedText = processedText.replace(`{${key}}`, value || &#39;&#39;);
}

messageDiv.innerHTML = `
&lt;div class=&quot;bot-name&quot;&gt;Charlie&lt;/div&gt;
&lt;div&gt;${processedText.replace(/\n/g, &#39;&lt;br&gt;&#39;)}&lt;/div&gt;
`;
chatMessages.appendChild(messageDiv);
scrollToBottom();
}

// Add user message
function addUserMessage(text) {

const messageDiv = document.createElement(&#39;div&#39;);
messageDiv.className = &#39;message user&#39;;
messageDiv.textContent = text;
chatMessages.appendChild(messageDiv);
scrollToBottom();
}

// Add typing indicator
function showTyping() {
const typingDiv = document.createElement(&#39;div&#39;);
typingDiv.className = &#39;typing-indicator&#39;;
typingDiv.id = &#39;typing&#39;;
typingDiv.innerHTML = &#39;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&#39;;
chatMessages.appendChild(typingDiv);
scrollToBottom();
}

function hideTyping() {
const typing = document.getElementById(&#39;typing&#39;);
if (typing) typing.remove();
}

// Add option buttons
function addOptions(options) {
const lastMessage = chatMessages.lastElementChild;
const optionsDiv = document.createElement(&#39;div&#39;);
optionsDiv.className = &#39;options-container&#39;;
optionsDiv.id = &#39;options&#39;;

options.forEach(option =&gt; {
const btn = document.createElement(&#39;button&#39;);
btn.className = &#39;option-btn&#39;;
btn.textContent = option;
btn.onclick = () =&gt; selectOption(option);
optionsDiv.appendChild(btn);
});

lastMessage.appendChild(optionsDiv);
scrollToBottom();
}

function removeOptions() {
const options = document.getElementById(&#39;options&#39;);
if (options) options.remove();
}

function selectOption(option) {
removeOptions();
handleUserInput(option);
}

// Scroll to bottom
function scrollToBottom() {
chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Get current step (accounting for conditions)
function getCurrentStep() {

while (currentStep &lt; conversationFlow.length) {
const step = conversationFlow[currentStep];
if (step.condition &amp;&amp; !step.condition(customerData)) {
currentStep++;
continue;
}
return step;
}
return null;
}

// Process step
function processStep() {
const step = getCurrentStep();
if (!step) return;

showTyping();

setTimeout(() =&gt; {
hideTyping();
addBotMessage(step.bot);

if (step.type === &#39;options&#39;) {
addOptions(step.options);
userInput.style.display = &#39;none&#39;;
} else if (step.type === &#39;end&#39;) {
document.getElementById(&#39;input-area&#39;).classList.add(&#39;hidden&#39;);
submitData();
} else {

userInput.style.display = &#39;block&#39;;
userInput.placeholder = step.type === &#39;email&#39; ? &#39;your@email.com&#39; : &#39;Type your
answer...&#39;;
userInput.type = step.type === &#39;email&#39; ? &#39;email&#39; : &#39;text&#39;;
userInput.focus();
}
}, 1000 + Math.random() * 500);
}

// Handle user input
function handleUserInput(text) {
if (!text.trim()) return;

const step = getCurrentStep();
if (!step || !step.field) return;

addUserMessage(text);
customerData[step.field] = text;
userInput.value = &#39;&#39;;

currentStep++;

setTimeout(() =&gt; {
processStep();
}, 500);
}

// Submit data to backend
async function submitData() {

customerData.submitted_at = new Date().toISOString();

try {
const response = await fetch(&#39;/api/submit-chat&#39;, {
method: &#39;POST&#39;,
headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
body: JSON.stringify(customerData)
});

if (!response.ok) {
console.error(&#39;Submission failed&#39;);
}
} catch (error) {
console.error(&#39;Error:&#39;, error);
}
}

// Event listeners
sendBtn.addEventListener(&#39;click&#39;, () =&gt; {
handleUserInput(userInput.value);
});

userInput.addEventListener(&#39;keypress&#39;, (e) =&gt; {
if (e.key === &#39;Enter&#39;) {
handleUserInput(userInput.value);
}
});

// Start conversation

window.onload = () =&gt; {
setTimeout(processStep, 500);
};
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
